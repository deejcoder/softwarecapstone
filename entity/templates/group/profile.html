{% extends "common/profile/base_profile.html" %}
{% load static %}

{% block head %}
    <script src="{% static 'entity/util.js' %}" type="text/javascript"></script>
    {{ block.super }}
{% endblock %}

{% block avatar %}
    {% with avatar_url=group.avatar_url %}
        {{ block.super }}
    {% endwith %}
{% endblock %}

{% block sidepane %}
    {% if is_editor %}
        <div>
            <a href="edit">Edit profile</a>
        </div>
    {% endif %}
    <div>
        <a href="#" onclick="entity.get_members('#member_list .modal-body', '#member_template');" 
            data-toggle="modal" data-target="#member_list"
        >Show members
        </a>
    </div>
    {% include 'members.html' %}

    <!-- contact info -->
    <div>
        <a href="{{ group.website }}">{{ group.website }}</a>
    </div>
{% endblock %}

{% block profile-content %}
    <div class="d-flex justify-content-between">
        <h3 class="mr-auto">{{ group.name|title }}</h3>
    </div>
    <div class="d-flex justify-content-between">
        <div class="text-justify text-left" style="word-break: break-all;" >{{ group.introduction }}</div>
    </div>
    <div class="d-flex justify-content-between">
        <div class="text-justify text-left" style="word-break: break-all;" >{{ group.description | safe }}</div>
    </div>
    <hr>
    <div>
        <h5>Events associated with this group:</h5>
        {% if events %}
            <ul style="list-style:none;">
                {% for event in events %}
                    <li><a href="/events/{{event.title}}-{{event.id}}">{{ event.title }}</li>
                {% endfor %}
            </ul>
        {% else %}
        <p>No events associated with this group.</p>
        {% endif %}
    </div>

{% endblock %}
